<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

var assert = require('assert');
var universe = require('./universe.js');

var reduceUsed = false;
var superReduce = Array.prototype.reduce;
Array.prototype.reduce = function () {
  reduceUsed = true;
  return superReduce.apply(this, arguments);
};

it('should sum stars', function () {
  try {
    assert.equal(6, universe.countAllStars([1, 2, 3]));
    assert.equal(16, universe.countAllStars([10, 3, 2, 1]));
    assert.equal(42, universe.countAllStars([20, 20, 2]));

    if (reduceUsed) {
      printMessage('My personal Yoda, you are. ðŸ™', '* â— Â¸ .ã€€Â¸. :Â° â˜¾ Â° ã€€Â¸. â— Â¸ .ã€€ã€€Â¸.ã€€:. â€¢ ');
      printMessage('My personal Yoda, you are. ðŸ™', '           ã€€â˜… Â°  â˜† Â¸. Â¸ ã€€â˜…ã€€ :.ã€€ .   ');
      printMessage('My personal Yoda, you are. ðŸ™', '__.-._     Â° . .ã€€ã€€ã€€ã€€.ã€€â˜¾ Â° ã€€. *   Â¸ .');
      printMessage('My personal Yoda, you are. ðŸ™', '\'-._\\7\'      .ã€€ã€€Â° â˜¾  Â° ã€€Â¸.â˜†  â— .ã€€ã€€ã€€');
      printMessage('My personal Yoda, you are. ðŸ™', ' /\'.-c    ã€€   * â—  Â¸.ã€€ã€€Â°     Â° ã€€Â¸.    ');
      printMessage('My personal Yoda, you are. ðŸ™', ' |  /T      ã€€ã€€Â°     Â° ã€€Â¸.     Â¸ .ã€€ã€€  ');
      printMessage('My personal Yoda, you are. ðŸ™', '_)_/LI');
    } else {
      printMessage('Hint ðŸ’¡', 'Do you know the reduce function in JavaScript? ðŸ¤”');
    }
  } catch (error) {
    printMessage('Hint ðŸ’¡', 'Did you properly accumulate all stars into \'totalStars\'? ðŸ¤”');
    throw error;
  }
});

function printMessage(channel, message) {
  console.log('\nTECHIO> message --channel "' + channel + '" "' + message + '"');
}


function countAllStars(galaxies) {
  var totalStars = 0;
  galaxies.forEach(function(stars) {
    totalStars = stars; // fix me
  }, this);
  return totalStars;
}

// { autofold
module.exports = {
  countAllStars: countAllStars
};
// }
    </script>
</body>
</html>